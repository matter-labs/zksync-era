DROP INDEX IF EXISTS ix_prover_jobs_circuits_0_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_1_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_2_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_3_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_4_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_5_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_6_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_7_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_8_2;
DROP INDEX IF EXISTS ix_prover_jobs_circuits_9_2;

CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_0_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{Scheduler,"L1 messages merklizer"}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_1_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"Node aggregation","Decommitts sorter"}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_2_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"Leaf aggregation","Code decommitter"}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_3_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"Log demuxer",Keccak}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_4_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{SHA256,ECRecover}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_5_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"RAM permutation","Storage sorter"}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_6_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"Storage application","Initial writes pubdata rehasher"}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_7_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"Repeated writes pubdata rehasher","Events sorter"}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_8_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"L1 messages sorter","L1 messages rehasher"}'::text[])));
CREATE INDEX IF NOT EXISTS ix_prover_jobs_circuits_9_1 ON public.prover_jobs USING btree (protocol_version, aggregation_round DESC, l1_batch_number, id) WHERE ((status = 'queued'::text) AND (circuit_type = ANY ('{"Main VM"}'::text[])));
